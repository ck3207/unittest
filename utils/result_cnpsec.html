<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>测试报告</title>
    <meta name="generator" content="HTMLTestRunner 0.8.2"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
<style type="text/css" media="screen">
body        { font-family: verdana, arial, helvetica, sans-serif; font-size: 80%; }
table       { font-size: 100%; }
pre         { }

/* -- heading ---------------------------------------------------------------------- */
h1 {
	font-size: 16pt;
	color: gray;
}
.heading {
    margin-top: 0ex;
    margin-bottom: 1ex;
}

.heading .attribute {
    margin-top: 1ex;
    margin-bottom: 0;
}

.heading .description {
    margin-top: 4ex;
    margin-bottom: 6ex;
}

/* -- css div popup ------------------------------------------------------------------------ */
a.popup_link {
}

a.popup_link:hover {
    color: red;
}

.popup_window {
    display: none;
    position: relative;
    left: 0px;
    top: 0px;
    /*border: solid #627173 1px; */
    padding: 10px;
    background-color: #E6E6D6;
    font-family: "Lucida Console", "Courier New", Courier, monospace;
    text-align: left;
    font-size: 8pt;
    width: 500px;
}

}
/* -- report ------------------------------------------------------------------------ */
#show_detail_line {
    margin-top: 3ex;
    margin-bottom: 1ex;
}
#result_table {
    width: 80%;
    border-collapse: collapse;
    border: 1px solid #777;
}
#header_row {
    font-weight: bold;
    color: white;
    background-color: #777;
}
#result_table td {
    border: 1px solid #777;
    padding: 2px;
}
#total_row  { font-weight: bold; }
.passClass  { background-color: #6c6; }
.failClass  { background-color: #c60; }
.errorClass { background-color: #c00; }
.passCase   { color: #6c6; }
.failCase   { color: #c60; font-weight: bold; }
.errorCase  { color: #c00; font-weight: bold; }
.hiddenRow  { display: none; }
.testcase   { margin-left: 2em; }


/* -- ending ---------------------------------------------------------------------- */
#ending {
}

</style>

</head>
<body>
<script language="javascript" type="text/javascript"><!--
output_list = Array();

/* level - 0:Summary; 1:Failed; 2:All */
function showCase(level) {
    trs = document.getElementsByTagName("tr");
    for (var i = 0; i < trs.length; i++) {
        tr = trs[i];
        id = tr.id;
        if (id.substr(0,2) == 'ft') {
            if (level < 1) {
                tr.className = 'hiddenRow';
            }
            else {
                tr.className = '';
            }
        }
        if (id.substr(0,2) == 'pt') {
            if (level > 1) {
                tr.className = '';
            }
            else {
                tr.className = 'hiddenRow';
            }
        }
    }
}


function showClassDetail(cid, count) {
    var id_list = Array(count);
    var toHide = 1;
    for (var i = 0; i < count; i++) {
        tid0 = 't' + cid.substr(1) + '.' + (i+1);
        tid = 'f' + tid0;
        tr = document.getElementById(tid);
        if (!tr) {
            tid = 'p' + tid0;
            tr = document.getElementById(tid);
        }
        id_list[i] = tid;
        if (tr.className) {
            toHide = 0;
        }
    }
    for (var i = 0; i < count; i++) {
        tid = id_list[i];
        if (toHide) {
            document.getElementById('div_'+tid).style.display = 'none'
            document.getElementById(tid).className = 'hiddenRow';
        }
        else {
            document.getElementById(tid).className = '';
        }
    }
}


function showTestDetail(div_id){
    var details_div = document.getElementById(div_id)
    var displayState = details_div.style.display
    // alert(displayState)
    if (displayState != 'block' ) {
        displayState = 'block'
        details_div.style.display = 'block'
    }
    else {
        details_div.style.display = 'none'
    }
}


function html_escape(s) {
    s = s.replace(/&/g,'&amp;');
    s = s.replace(/</g,'&lt;');
    s = s.replace(/>/g,'&gt;');
    return s;
}

/* obsoleted by detail in <div>
function showOutput(id, name) {
    var w = window.open("", //url
                    name,
                    "resizable,scrollbars,status,width=800,height=450");
    d = w.document;
    d.write("<pre>");
    d.write(html_escape(output_list[id]));
    d.write("\n");
    d.write("<a href='javascript:window.close()'>close</a>\n");
    d.write("</pre>\n");
    d.close();
}
*/
--></script>

<div class='heading'>
<h1>测试报告</h1>
<p class='attribute'><strong>Start Time:</strong> 2020-04-19 20:06:18</p>
<p class='attribute'><strong>Duration:</strong> 0:00:00.747556</p>
<p class='attribute'><strong>Status:</strong> Pass 4 Failure 4</p>

<p class='description'>单元测试报告：</p>
</div>



<p id='show_detail_line'>Show
<a href='javascript:showCase(0)'>Summary</a>
<a href='javascript:showCase(1)'>Failed</a>
<a href='javascript:showCase(2)'>All</a>
</p>
<table id='result_table'>
<colgroup>
<col align='left' />
<col align='right' />
<col align='right' />
<col align='right' />
<col align='right' />
<col align='right' />
</colgroup>
<tr id='header_row'>
    <td>Test Group/Test case</td>
    <td>Count</td>
    <td>Pass</td>
    <td>Fail</td>
    <td>Error</td>
    <td>View</td>
</tr>

<tr class='passClass'>
    <td>GetMonthBillIncome</td>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c1',1)">Detail</a></td>
</tr>

<tr id='pt1.1' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.1')" >
        pass</a>

    <div id='div_pt1.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt1.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt1.1: 

        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='passClass'>
    <td>ListMonthBankChange</td>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c2',1)">Detail</a></td>
</tr>

<tr id='pt2.1' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt2.1')" >
        pass</a>

    <div id='div_pt2.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt2.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt2.1: 

        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='passClass'>
    <td>ListMonthIntervalTradeAnalyze</td>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c3',1)">Detail</a></td>
</tr>

<tr id='pt3.1' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt3.1')" >
        pass</a>

    <div id='div_pt3.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt3.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt3.1: 

        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='failClass'>
    <td>ListMonthBankDetail</td>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c4',1)">Detail</a></td>
</tr>

<tr id='ft4.1' class='none'>
    <td class='failCase'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_ft4.1')" >
        fail</a>

    <div id='div_ft4.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_ft4.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
ft4.1: Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 143, in test_normal
    is_fetchone=False, sql=sql, url=url, data=data, is_timestamp=True)
  File ".\analysis_cnpsec.py", line 401, in _checking
    self.assertAlmostEqual(sql_data[column_index], round(decimal.Decimal(interface_data), 4), msg=msg)
AssertionError: Decimal('42916.7700') != Decimal('4676.9300') within 7 places : 
SQL is
 SELECT unix_timestamp(part_init_date) as part_init_date, bank_name, occ_price, transfer_type from month_bank_detail where fund_account = 88888 and substr(part_init_date from 1 for 6) = 201905 order by part_init_date ;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/list_month_bank_detail
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'part_init_date': 1556640000000, 'bank_name': '??????', 'occ_price': 24464.06, 'transfer_type': '0'}, {'part_init_date': 1556640000000, 'bank_name': '??????', 'occ_price': 32491.57, 'transfer_type': '1'}, {'part_init_date': 1556726400000, 'bank_name': '??????', 'occ_price': 50903.27, 'transfer_type': '0'}, {'part_init_date': 1556726400000, 'bank_name': '??????', 'occ_price': 11478.93, 'transfer_type': '1'}, {'part_init_date': 1556812800000, 'bank_name': '??????', 'occ_price': 17440.03, 'transfer_type': '0'}, {'part_init_date': 1556812800000, 'bank_name': '??????', 'occ_price': 110423.2, 'transfer_type': '1'}, {'part_init_date': 1556899200000, 'bank_name': '??????', 'occ_price': 4676.93, 'transfer_type': '0'}, {'part_init_date': 1556899200000, 'bank_name': '??????', 'occ_price': 42916.77, 'transfer_type': '1'}, {'part_init_date': 1556985600000, 'bank_name': '??????', 'occ_price': 11525.05, 'transfer_type': '0'}, {'part_init_date': 1556985600000, 'bank_name': '??????', 'occ_price': 78068.52, 'transfer_type': '1'}, {'part_init_date': 1557072000000, 'bank_name': '??????', 'occ_price': 93978.2, 'transfer_type': '0'}, {'part_init_date': 1557072000000, 'bank_name': '??????', 'occ_price': 115628.35, 'transfer_type': '1'}, {'part_init_date': 1557158400000, 'bank_name': '??????', 'occ_price': 120493.01, 'transfer_type': '0'}, {'part_init_date': 1557158400000, 'bank_name': '??????', 'occ_price': 123450.12, 'transfer_type': '1'}, {'part_init_date': 1557244800000, 'bank_name': '??????', 'occ_price': 99587.49, 'transfer_type': '0'}, {'part_init_date': 1557244800000, 'bank_name': '??????', 'occ_price': 120965.64, 'transfer_type': '1'}, {'part_init_date': 1557331200000, 'bank_name': '??????', 'occ_price': 84399.57, 'transfer_type': '0'}, {'part_init_date': 1557331200000, 'bank_name': '??????', 'occ_price': 5440.21, 'transfer_type': '1'}, {'part_init_date': 1557417600000, 'bank_name': '??????', 'occ_price': 9143.04, 'transfer_type': '0'}, {'part_init_date': 1557417600000, 'bank_name': '??????', 'occ_price': 121275.24, 'transfer_type': '1'}, {'part_init_date': 1557504000000, 'bank_name': '??????', 'occ_price': 17134.63, 'transfer_type': '0'}, {'part_init_date': 1557504000000, 'bank_name': '??????', 'occ_price': 53782.26, 'transfer_type': '1'}, {'part_init_date': 1557590400000, 'bank_name': '??????', 'occ_price': 64839.63, 'transfer_type': '0'}, {'part_init_date': 1557590400000, 'bank_name': '??????', 'occ_price': 21554.33, 'transfer_type': '1'}, {'part_init_date': 1557676800000, 'bank_name': '??????', 'occ_price': 12318.22, 'transfer_type': '0'}, {'part_init_date': 1557676800000, 'bank_name': '??????', 'occ_price': 45774.51, 'transfer_type': '1'}, {'part_init_date': 1557763200000, 'bank_name': '??????', 'occ_price': 96513.54, 'transfer_type': '0'}, {'part_init_date': 1557763200000, 'bank_name': '??????', 'occ_price': 52415.06, 'transfer_type': '1'}, {'part_init_date': 1557849600000, 'bank_name': '??????', 'occ_price': 11008.79, 'transfer_type': '0'}, {'part_init_date': 1557849600000, 'bank_name': '??????', 'occ_price': 59515.45, 'transfer_type': '1'}, {'part_init_date': 1557936000000, 'bank_name': '??????', 'occ_price': 78244.28, 'transfer_type': '0'}, {'part_init_date': 1557936000000, 'bank_name': '??????', 'occ_price': 30477.64, 'transfer_type': '1'}, {'part_init_date': 1558022400000, 'bank_name': '??????', 'occ_price': 114734.3, 'transfer_type': '0'}, {'part_init_date': 1558022400000, 'bank_name': '??????', 'occ_price': 94178.48, 'transfer_type': '1'}, {'part_init_date': 1558108800000, 'bank_name': '??????', 'occ_price': 24042.71, 'transfer_type': '0'}, {'part_init_date': 1558108800000, 'bank_name': '??????', 'occ_price': 73904.92, 'transfer_type': '1'}, {'part_init_date': 1558195200000, 'bank_name': '??????', 'occ_price': 28936.3, 'transfer_type': '0'}, {'part_init_date': 1558195200000, 'bank_name': '??????', 'occ_price': 46993.6, 'transfer_type': '1'}, {'part_init_date': 1558281600000, 'bank_name': '??????', 'occ_price': 69676.99, 'transfer_type': '0'}, {'part_init_date': 1558281600000, 'bank_name': '??????', 'occ_price': 110262.47, 'transfer_type': '1'}, {'part_init_date': 1558368000000, 'bank_name': '??????', 'occ_price': 52074.79, 'transfer_type': '0'}, {'part_init_date': 1558368000000, 'bank_name': '??????', 'occ_price': 9136.69, 'transfer_type': '1'}, {'part_init_date': 1558454400000, 'bank_name': '??????', 'occ_price': 21163.46, 'transfer_type': '0'}, {'part_init_date': 1558454400000, 'bank_name': '??????', 'occ_price': 76632.36, 'transfer_type': '1'}, {'part_init_date': 1558540800000, 'bank_name': '??????', 'occ_price': 44582.09, 'transfer_type': '0'}, {'part_init_date': 1558540800000, 'bank_name': '??????', 'occ_price': 80080.02, 'transfer_type': '1'}, {'part_init_date': 1558627200000, 'bank_name': '??????', 'occ_price': 108752.65, 'transfer_type': '0'}, {'part_init_date': 1558627200000, 'bank_name': '??????', 'occ_price': 56855.93, 'transfer_type': '1'}, {'part_init_date': 1558713600000, 'bank_name': '??????', 'occ_price': 41729.77, 'transfer_type': '0'}, {'part_init_date': 1558713600000, 'bank_name': '??????', 'occ_price': 86422.83, 'transfer_type': '1'}, {'part_init_date': 1558800000000, 'bank_name': '??????', 'occ_price': 100390.9, 'transfer_type': '0'}, {'part_init_date': 1558800000000, 'bank_name': '??????', 'occ_price': 55275.54, 'transfer_type': '1'}, {'part_init_date': 1558886400000, 'bank_name': '??????', 'occ_price': 28337.92, 'transfer_type': '0'}, {'part_init_date': 1558886400000, 'bank_name': '??????', 'occ_price': 29363.28, 'transfer_type': '1'}, {'part_init_date': 1558972800000, 'bank_name': '??????', 'occ_price': 37926.39, 'transfer_type': '0'}, {'part_init_date': 1558972800000, 'bank_name': '??????', 'occ_price': 52048.58, 'transfer_type': '1'}, {'part_init_date': 1559059200000, 'bank_name': '??????', 'occ_price': 42203.18, 'transfer_type': '0'}, {'part_init_date': 1559059200000, 'bank_name': '??????', 'occ_price': 14948.64, 'transfer_type': '1'}, {'part_init_date': 1559145600000, 'bank_name': '??????', 'occ_price': 11320.15, 'transfer_type': '0'}, {'part_init_date': 1559145600000, 'bank_name': '??????', 'occ_price': 29653.02, 'transfer_type': '1'}, {'part_init_date': 1559232000000, 'bank_name': '??????', 'occ_price': 122192.41, 'transfer_type': '0'}, {'part_init_date': 1559232000000, 'bank_name': '??????', 'occ_price': 2787.76, 'transfer_type': '1'}], 'count': None}
    SQL result is
((Decimal('1556640000.000000'), '??????', Decimal('24464.0600'), '0'), (Decimal('1556640000.000000'), '??????', Decimal('32491.5700'), '1'), (Decimal('1556726400.000000'), '??????', Decimal('50903.2700'), '0'), (Decimal('1556726400.000000'), '??????', Decimal('11478.9300'), '1'), (Decimal('1556812800.000000'), '??????', Decimal('17440.0300'), '0'), (Decimal('1556812800.000000'), '??????', Decimal('110423.2000'), '1'), (Decimal('1556899200.000000'), '??????', Decimal('42916.7700'), '1'), (Decimal('1556899200.000000'), '??????', Decimal('4676.9300'), '0'), (Decimal('1556985600.000000'), '??????', Decimal('11525.0500'), '0'), (Decimal('1556985600.000000'), '??????', Decimal('78068.5200'), '1'), (Decimal('1557072000.000000'), '??????', Decimal('93978.2000'), '0'), (Decimal('1557072000.000000'), '??????', Decimal('115628.3500'), '1'), (Decimal('1557158400.000000'), '??????', Decimal('120493.0100'), '0'), (Decimal('1557158400.000000'), '??????', Decimal('123450.1200'), '1'), (Decimal('1557244800.000000'), '??????', Decimal('120965.6400'), '1'), (Decimal('1557244800.000000'), '??????', Decimal('99587.4900'), '0'), (Decimal('1557331200.000000'), '??????', Decimal('84399.5700'), '0'), (Decimal('1557331200.000000'), '??????', Decimal('5440.2100'), '1'), (Decimal('1557417600.000000'), '??????', Decimal('9143.0400'), '0'), (Decimal('1557417600.000000'), '??????', Decimal('121275.2400'), '1'), (Decimal('1557504000.000000'), '??????', Decimal('17134.6300'), '0'), (Decimal('1557504000.000000'), '??????', Decimal('53782.2600'), '1'), (Decimal('1557590400.000000'), '??????', Decimal('21554.3300'), '1'), (Decimal('1557590400.000000'), '??????', Decimal('64839.6300'), '0'), (Decimal('1557676800.000000'), '??????', Decimal('12318.2200'), '0'), (Decimal('1557676800.000000'), '??????', Decimal('45774.5100'), '1'), (Decimal('1557763200.000000'), '??????', Decimal('96513.5400'), '0'), (Decimal('1557763200.000000'), '??????', Decimal('52415.0600'), '1'), (Decimal('1557849600.000000'), '??????', Decimal('11008.7900'), '0'), (Decimal('1557849600.000000'), '??????', Decimal('59515.4500'), '1'), (Decimal('1557936000.000000'), '??????', Decimal('30477.6400'), '1'), (Decimal('1557936000.000000'), '??????', Decimal('78244.2800'), '0'), (Decimal('1558022400.000000'), '??????', Decimal('114734.3000'), '0'), (Decimal('1558022400.000000'), '??????', Decimal('94178.4800'), '1'), (Decimal('1558108800.000000'), '??????', Decimal('24042.7100'), '0'), (Decimal('1558108800.000000'), '??????', Decimal('73904.9200'), '1'), (Decimal('1558195200.000000'), '??????', Decimal('28936.3000'), '0'), (Decimal('1558195200.000000'), '??????', Decimal('46993.6000'), '1'), (Decimal('1558281600.000000'), '??????', Decimal('110262.4700'), '1'), (Decimal('1558281600.000000'), '??????', Decimal('69676.9900'), '0'), (Decimal('1558368000.000000'), '??????', Decimal('52074.7900'), '0'), (Decimal('1558368000.000000'), '??????', Decimal('9136.6900'), '1'), (Decimal('1558454400.000000'), '??????', Decimal('21163.4600'), '0'), (Decimal('1558454400.000000'), '??????', Decimal('76632.3600'), '1'), (Decimal('1558540800.000000'), '??????', Decimal('44582.0900'), '0'), (Decimal('1558540800.000000'), '??????', Decimal('80080.0200'), '1'), (Decimal('1558627200.000000'), '??????', Decimal('56855.9300'), '1'), (Decimal('1558627200.000000'), '??????', Decimal('108752.6500'), '0'), (Decimal('1558713600.000000'), '??????', Decimal('41729.7700'), '0'), (Decimal('1558713600.000000'), '??????', Decimal('86422.8300'), '1'), (Decimal('1558800000.000000'), '??????', Decimal('100390.9000'), '0'), (Decimal('1558800000.000000'), '??????', Decimal('55275.5400'), '1'), (Decimal('1558886400.000000'), '??????', Decimal('28337.9200'), '0'), (Decimal('1558886400.000000'), '??????', Decimal('29363.2800'), '1'), (Decimal('1558972800.000000'), '??????', Decimal('52048.5800'), '1'), (Decimal('1558972800.000000'), '??????', Decimal('37926.3900'), '0'), (Decimal('1559059200.000000'), '??????', Decimal('42203.1800'), '0'), (Decimal('1559059200.000000'), '??????', Decimal('14948.6400'), '1'), (Decimal('1559145600.000000'), '??????', Decimal('11320.1500'), '0'), (Decimal('1559145600.000000'), '??????', Decimal('29653.0200'), '1'), (Decimal('1559232000.000000'), '??????', Decimal('122192.4100'), '0'), (Decimal('1559232000.000000'), '??????', Decimal('2787.7600'), '1'))
Current is checking column occ_price

Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 143, in test_normal
    is_fetchone=False, sql=sql, url=url, data=data, is_timestamp=True)
  File ".\analysis_cnpsec.py", line 401, in _checking
    self.assertAlmostEqual(sql_data[column_index], round(decimal.Decimal(interface_data), 4), msg=msg)
AssertionError: Decimal('42916.7700') != Decimal('4676.9300') within 7 places : 
SQL is
 SELECT unix_timestamp(part_init_date) as part_init_date, bank_name, occ_price, transfer_type from month_bank_detail where fund_account = 88888 and substr(part_init_date from 1 for 6) = 201905 order by part_init_date ;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/list_month_bank_detail
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'part_init_date': 1556640000000, 'bank_name': '??????', 'occ_price': 24464.06, 'transfer_type': '0'}, {'part_init_date': 1556640000000, 'bank_name': '??????', 'occ_price': 32491.57, 'transfer_type': '1'}, {'part_init_date': 1556726400000, 'bank_name': '??????', 'occ_price': 50903.27, 'transfer_type': '0'}, {'part_init_date': 1556726400000, 'bank_name': '??????', 'occ_price': 11478.93, 'transfer_type': '1'}, {'part_init_date': 1556812800000, 'bank_name': '??????', 'occ_price': 17440.03, 'transfer_type': '0'}, {'part_init_date': 1556812800000, 'bank_name': '??????', 'occ_price': 110423.2, 'transfer_type': '1'}, {'part_init_date': 1556899200000, 'bank_name': '??????', 'occ_price': 4676.93, 'transfer_type': '0'}, {'part_init_date': 1556899200000, 'bank_name': '??????', 'occ_price': 42916.77, 'transfer_type': '1'}, {'part_init_date': 1556985600000, 'bank_name': '??????', 'occ_price': 11525.05, 'transfer_type': '0'}, {'part_init_date': 1556985600000, 'bank_name': '??????', 'occ_price': 78068.52, 'transfer_type': '1'}, {'part_init_date': 1557072000000, 'bank_name': '??????', 'occ_price': 93978.2, 'transfer_type': '0'}, {'part_init_date': 1557072000000, 'bank_name': '??????', 'occ_price': 115628.35, 'transfer_type': '1'}, {'part_init_date': 1557158400000, 'bank_name': '??????', 'occ_price': 120493.01, 'transfer_type': '0'}, {'part_init_date': 1557158400000, 'bank_name': '??????', 'occ_price': 123450.12, 'transfer_type': '1'}, {'part_init_date': 1557244800000, 'bank_name': '??????', 'occ_price': 99587.49, 'transfer_type': '0'}, {'part_init_date': 1557244800000, 'bank_name': '??????', 'occ_price': 120965.64, 'transfer_type': '1'}, {'part_init_date': 1557331200000, 'bank_name': '??????', 'occ_price': 84399.57, 'transfer_type': '0'}, {'part_init_date': 1557331200000, 'bank_name': '??????', 'occ_price': 5440.21, 'transfer_type': '1'}, {'part_init_date': 1557417600000, 'bank_name': '??????', 'occ_price': 9143.04, 'transfer_type': '0'}, {'part_init_date': 1557417600000, 'bank_name': '??????', 'occ_price': 121275.24, 'transfer_type': '1'}, {'part_init_date': 1557504000000, 'bank_name': '??????', 'occ_price': 17134.63, 'transfer_type': '0'}, {'part_init_date': 1557504000000, 'bank_name': '??????', 'occ_price': 53782.26, 'transfer_type': '1'}, {'part_init_date': 1557590400000, 'bank_name': '??????', 'occ_price': 64839.63, 'transfer_type': '0'}, {'part_init_date': 1557590400000, 'bank_name': '??????', 'occ_price': 21554.33, 'transfer_type': '1'}, {'part_init_date': 1557676800000, 'bank_name': '??????', 'occ_price': 12318.22, 'transfer_type': '0'}, {'part_init_date': 1557676800000, 'bank_name': '??????', 'occ_price': 45774.51, 'transfer_type': '1'}, {'part_init_date': 1557763200000, 'bank_name': '??????', 'occ_price': 96513.54, 'transfer_type': '0'}, {'part_init_date': 1557763200000, 'bank_name': '??????', 'occ_price': 52415.06, 'transfer_type': '1'}, {'part_init_date': 1557849600000, 'bank_name': '??????', 'occ_price': 11008.79, 'transfer_type': '0'}, {'part_init_date': 1557849600000, 'bank_name': '??????', 'occ_price': 59515.45, 'transfer_type': '1'}, {'part_init_date': 1557936000000, 'bank_name': '??????', 'occ_price': 78244.28, 'transfer_type': '0'}, {'part_init_date': 1557936000000, 'bank_name': '??????', 'occ_price': 30477.64, 'transfer_type': '1'}, {'part_init_date': 1558022400000, 'bank_name': '??????', 'occ_price': 114734.3, 'transfer_type': '0'}, {'part_init_date': 1558022400000, 'bank_name': '??????', 'occ_price': 94178.48, 'transfer_type': '1'}, {'part_init_date': 1558108800000, 'bank_name': '??????', 'occ_price': 24042.71, 'transfer_type': '0'}, {'part_init_date': 1558108800000, 'bank_name': '??????', 'occ_price': 73904.92, 'transfer_type': '1'}, {'part_init_date': 1558195200000, 'bank_name': '??????', 'occ_price': 28936.3, 'transfer_type': '0'}, {'part_init_date': 1558195200000, 'bank_name': '??????', 'occ_price': 46993.6, 'transfer_type': '1'}, {'part_init_date': 1558281600000, 'bank_name': '??????', 'occ_price': 69676.99, 'transfer_type': '0'}, {'part_init_date': 1558281600000, 'bank_name': '??????', 'occ_price': 110262.47, 'transfer_type': '1'}, {'part_init_date': 1558368000000, 'bank_name': '??????', 'occ_price': 52074.79, 'transfer_type': '0'}, {'part_init_date': 1558368000000, 'bank_name': '??????', 'occ_price': 9136.69, 'transfer_type': '1'}, {'part_init_date': 1558454400000, 'bank_name': '??????', 'occ_price': 21163.46, 'transfer_type': '0'}, {'part_init_date': 1558454400000, 'bank_name': '??????', 'occ_price': 76632.36, 'transfer_type': '1'}, {'part_init_date': 1558540800000, 'bank_name': '??????', 'occ_price': 44582.09, 'transfer_type': '0'}, {'part_init_date': 1558540800000, 'bank_name': '??????', 'occ_price': 80080.02, 'transfer_type': '1'}, {'part_init_date': 1558627200000, 'bank_name': '??????', 'occ_price': 108752.65, 'transfer_type': '0'}, {'part_init_date': 1558627200000, 'bank_name': '??????', 'occ_price': 56855.93, 'transfer_type': '1'}, {'part_init_date': 1558713600000, 'bank_name': '??????', 'occ_price': 41729.77, 'transfer_type': '0'}, {'part_init_date': 1558713600000, 'bank_name': '??????', 'occ_price': 86422.83, 'transfer_type': '1'}, {'part_init_date': 1558800000000, 'bank_name': '??????', 'occ_price': 100390.9, 'transfer_type': '0'}, {'part_init_date': 1558800000000, 'bank_name': '??????', 'occ_price': 55275.54, 'transfer_type': '1'}, {'part_init_date': 1558886400000, 'bank_name': '??????', 'occ_price': 28337.92, 'transfer_type': '0'}, {'part_init_date': 1558886400000, 'bank_name': '??????', 'occ_price': 29363.28, 'transfer_type': '1'}, {'part_init_date': 1558972800000, 'bank_name': '??????', 'occ_price': 37926.39, 'transfer_type': '0'}, {'part_init_date': 1558972800000, 'bank_name': '??????', 'occ_price': 52048.58, 'transfer_type': '1'}, {'part_init_date': 1559059200000, 'bank_name': '??????', 'occ_price': 42203.18, 'transfer_type': '0'}, {'part_init_date': 1559059200000, 'bank_name': '??????', 'occ_price': 14948.64, 'transfer_type': '1'}, {'part_init_date': 1559145600000, 'bank_name': '??????', 'occ_price': 11320.15, 'transfer_type': '0'}, {'part_init_date': 1559145600000, 'bank_name': '??????', 'occ_price': 29653.02, 'transfer_type': '1'}, {'part_init_date': 1559232000000, 'bank_name': '??????', 'occ_price': 122192.41, 'transfer_type': '0'}, {'part_init_date': 1559232000000, 'bank_name': '??????', 'occ_price': 2787.76, 'transfer_type': '1'}], 'count': None}
    SQL result is
((Decimal('1556640000.000000'), '??????', Decimal('24464.0600'), '0'), (Decimal('1556640000.000000'), '??????', Decimal('32491.5700'), '1'), (Decimal('1556726400.000000'), '??????', Decimal('50903.2700'), '0'), (Decimal('1556726400.000000'), '??????', Decimal('11478.9300'), '1'), (Decimal('1556812800.000000'), '??????', Decimal('17440.0300'), '0'), (Decimal('1556812800.000000'), '??????', Decimal('110423.2000'), '1'), (Decimal('1556899200.000000'), '??????', Decimal('42916.7700'), '1'), (Decimal('1556899200.000000'), '??????', Decimal('4676.9300'), '0'), (Decimal('1556985600.000000'), '??????', Decimal('11525.0500'), '0'), (Decimal('1556985600.000000'), '??????', Decimal('78068.5200'), '1'), (Decimal('1557072000.000000'), '??????', Decimal('93978.2000'), '0'), (Decimal('1557072000.000000'), '??????', Decimal('115628.3500'), '1'), (Decimal('1557158400.000000'), '??????', Decimal('120493.0100'), '0'), (Decimal('1557158400.000000'), '??????', Decimal('123450.1200'), '1'), (Decimal('1557244800.000000'), '??????', Decimal('120965.6400'), '1'), (Decimal('1557244800.000000'), '??????', Decimal('99587.4900'), '0'), (Decimal('1557331200.000000'), '??????', Decimal('84399.5700'), '0'), (Decimal('1557331200.000000'), '??????', Decimal('5440.2100'), '1'), (Decimal('1557417600.000000'), '??????', Decimal('9143.0400'), '0'), (Decimal('1557417600.000000'), '??????', Decimal('121275.2400'), '1'), (Decimal('1557504000.000000'), '??????', Decimal('17134.6300'), '0'), (Decimal('1557504000.000000'), '??????', Decimal('53782.2600'), '1'), (Decimal('1557590400.000000'), '??????', Decimal('21554.3300'), '1'), (Decimal('1557590400.000000'), '??????', Decimal('64839.6300'), '0'), (Decimal('1557676800.000000'), '??????', Decimal('12318.2200'), '0'), (Decimal('1557676800.000000'), '??????', Decimal('45774.5100'), '1'), (Decimal('1557763200.000000'), '??????', Decimal('96513.5400'), '0'), (Decimal('1557763200.000000'), '??????', Decimal('52415.0600'), '1'), (Decimal('1557849600.000000'), '??????', Decimal('11008.7900'), '0'), (Decimal('1557849600.000000'), '??????', Decimal('59515.4500'), '1'), (Decimal('1557936000.000000'), '??????', Decimal('30477.6400'), '1'), (Decimal('1557936000.000000'), '??????', Decimal('78244.2800'), '0'), (Decimal('1558022400.000000'), '??????', Decimal('114734.3000'), '0'), (Decimal('1558022400.000000'), '??????', Decimal('94178.4800'), '1'), (Decimal('1558108800.000000'), '??????', Decimal('24042.7100'), '0'), (Decimal('1558108800.000000'), '??????', Decimal('73904.9200'), '1'), (Decimal('1558195200.000000'), '??????', Decimal('28936.3000'), '0'), (Decimal('1558195200.000000'), '??????', Decimal('46993.6000'), '1'), (Decimal('1558281600.000000'), '??????', Decimal('110262.4700'), '1'), (Decimal('1558281600.000000'), '??????', Decimal('69676.9900'), '0'), (Decimal('1558368000.000000'), '??????', Decimal('52074.7900'), '0'), (Decimal('1558368000.000000'), '??????', Decimal('9136.6900'), '1'), (Decimal('1558454400.000000'), '??????', Decimal('21163.4600'), '0'), (Decimal('1558454400.000000'), '??????', Decimal('76632.3600'), '1'), (Decimal('1558540800.000000'), '??????', Decimal('44582.0900'), '0'), (Decimal('1558540800.000000'), '??????', Decimal('80080.0200'), '1'), (Decimal('1558627200.000000'), '??????', Decimal('56855.9300'), '1'), (Decimal('1558627200.000000'), '??????', Decimal('108752.6500'), '0'), (Decimal('1558713600.000000'), '??????', Decimal('41729.7700'), '0'), (Decimal('1558713600.000000'), '??????', Decimal('86422.8300'), '1'), (Decimal('1558800000.000000'), '??????', Decimal('100390.9000'), '0'), (Decimal('1558800000.000000'), '??????', Decimal('55275.5400'), '1'), (Decimal('1558886400.000000'), '??????', Decimal('28337.9200'), '0'), (Decimal('1558886400.000000'), '??????', Decimal('29363.2800'), '1'), (Decimal('1558972800.000000'), '??????', Decimal('52048.5800'), '1'), (Decimal('1558972800.000000'), '??????', Decimal('37926.3900'), '0'), (Decimal('1559059200.000000'), '??????', Decimal('42203.1800'), '0'), (Decimal('1559059200.000000'), '??????', Decimal('14948.6400'), '1'), (Decimal('1559145600.000000'), '??????', Decimal('11320.1500'), '0'), (Decimal('1559145600.000000'), '??????', Decimal('29653.0200'), '1'), (Decimal('1559232000.000000'), '??????', Decimal('122192.4100'), '0'), (Decimal('1559232000.000000'), '??????', Decimal('2787.7600'), '1'))
Current is checking column occ_price



        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='failClass'>
    <td>ListMonthStockTradeStockCode</td>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c5',1)">Detail</a></td>
</tr>

<tr id='ft5.1' class='none'>
    <td class='failCase'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_ft5.1')" >
        fail</a>

    <div id='div_ft5.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_ft5.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
ft5.1: Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 177, in test_normal
    sql=sql, url=url, data=data, count=len(sql_result))
  File ".\analysis_cnpsec.py", line 390, in _checking
    self.assertEqual(params.get("count"), interface_result.get("count"), msg=msg_model)
AssertionError: 4 != None : 
SQL is
 SELECT stock_code, stock_name from month_stock_trade_detail where fund_account = 88888 and substr(init_date from 1 for 6) = 201905 group by stock_code, stock_name order by stock_code, stock_name ;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/list_month_stock_trade_stock_code
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'stock_code': '000001', 'stock_name': '平安银行'}, {'stock_code': '002415', 'stock_name': '海康威视'}, {'stock_code': '600000', 'stock_name': '浦发银行'}], 'count': None}
    SQL result is
(('000001', '平安银行'), ('002415', '海康威视'), ('600000', '浦发银行'), ('600006', '东风汽车'))
Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 177, in test_normal
    sql=sql, url=url, data=data, count=len(sql_result))
  File ".\analysis_cnpsec.py", line 390, in _checking
    self.assertEqual(params.get("count"), interface_result.get("count"), msg=msg_model)
AssertionError: 4 != None : 
SQL is
 SELECT stock_code, stock_name from month_stock_trade_detail where fund_account = 88888 and substr(init_date from 1 for 6) = 201905 group by stock_code, stock_name order by stock_code, stock_name ;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/list_month_stock_trade_stock_code
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'stock_code': '000001', 'stock_name': '平安银行'}, {'stock_code': '002415', 'stock_name': '海康威视'}, {'stock_code': '600000', 'stock_name': '浦发银行'}], 'count': None}
    SQL result is
(('000001', '平安银行'), ('002415', '海康威视'), ('600000', '浦发银行'), ('600006', '东风汽车'))


        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='passClass'>
    <td>GetMonthStockTradeDetail</td>
    <td>1</td>
    <td>1</td>
    <td>0</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c6',1)">Detail</a></td>
</tr>

<tr id='pt6.1' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt6.1')" >
        pass</a>

    <div id='div_pt6.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt6.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt6.1: 

        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='failClass'>
    <td>GetMonthAccountYield</td>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c7',1)">Detail</a></td>
</tr>

<tr id='ft7.1' class='none'>
    <td class='failCase'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_ft7.1')" >
        fail</a>

    <div id='div_ft7.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_ft7.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
ft7.1: Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 274, in test_normal
    sql=sql, url=url, data=data, count=len(sql_result_dealed), is_timestamp=False)
  File ".\analysis_cnpsec.py", line 401, in _checking
    self.assertAlmostEqual(sql_data[column_index], round(decimal.Decimal(interface_data), 4), msg=msg)
AssertionError: Decimal('-0.0082') != Decimal('9470.1642') within 7 places : 
SQL is
 SELECT a.init_date, income, yield, position, 0 as accumulative_yield from daily_asset a INNER JOIN daily_index b on a.init_date = b.init_date where fund_account = 88888 and b.init_date &gt;= (SELECT max(init_date) as init_date from daily_index where init_date &lt; '20190501') and b.init_date &lt;= '20190531' ORDER BY init_date;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/get_month_account_yield
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'init_date': 20190428, 'income': 0, 'yield': 0, 'accumulative_yield': 0, 'position': None}, {'init_date': 20190502, 'income': 704603800.0, 'yield': 9470.164238, 'accumulative_yield': 9470.164238, 'position': 0.5078}, {'init_date': 20190503, 'income': 641083600.0, 'yield': 45444.135458, 'accumulative_yield': 18086.590919, 'position': 0.9319}, {'init_date': 20190504, 'income': 606111000.0, 'yield': 5590.245314, 'accumulative_yield': 26232.971504, 'position': 0.2887}, {'init_date': 20190505, 'income': 42566600.0, 'yield': 619.853888, 'accumulative_yield': 26805.084077, 'position': 0.4512}, {'init_date': 20190508, 'income': -377479300.0, 'yield': -3216.77625, 'accumulative_yield': 21731.60737, 'position': 0.9094}, {'init_date': 20190509, 'income': -1057658900.0, 'yield': -8862.381153, 'accumulative_yield': 7516.237696, 'position': 0.3957}, {'init_date': 20190510, 'income': -628159400.0, 'yield': -10171.71588, 'accumulative_yield': -926.482434, 'position': 0.1611}, {'init_date': 20190511, 'income': 392182100.0, 'yield': 15099.368932, 'accumulative_yield': 4344.60594, 'position': 0.7164}, {'init_date': 20190512, 'income': 435996700.0, 'yield': 3481.951217, 'accumulative_yield': 10204.580519, 'position': 0.1511}, {'init_date': 20190513, 'income': -836374800.0, 'yield': -6808.360371, 'accumulative_yield': -773.308899, 'position': 0.1388}, {'init_date': 20190514, 'income': 345415400.0, 'yield': 3247.084194, 'accumulative_yield': 2689.904521, 'position': 0.1049}, {'init_date': 20190515, 'income': 59834600.0, 'yield': 9041.750849, 'accumulative_yield': 3289.81984, 'position': 0.2097}, {'init_date': 20190516, 'income': 150882200.0, 'yield': 2761.674852, 'accumulative_yield': 4802.599119, 'position': 0.7358}, {'init_date': 20190517, 'income': -851994100.0, 'yield': -17916.673852, 'accumulative_yield': -3739.687649, 'position': 0.5639}, {'init_date': 20190518, 'income': 416311200.0, 'yield': 6262.20876, 'accumulative_yield': 434.343198, 'position': 0.8572}, {'init_date': 20190519, 'income': -345684000.0, 'yield': -4737.903806, 'accumulative_yield': -3031.563266, 'position': 0.5847}, {'init_date': 20190520, 'income': -841276400.0, 'yield': -16896.408433, 'accumulative_yield': -11466.391935, 'position': 0.0531}, {'init_date': 20190521, 'income': -175534100.0, 'yield': -2892.761525, 'accumulative_yield': -13226.336774, 'position': 0.4348}, {'init_date': 20190522, 'income': 1170180000.0, 'yield': 9879.54633, 'accumulative_yield': -1493.845751, 'position': 0.4434}, {'init_date': 20190523, 'income': 119380500.0, 'yield': 1024.056916, 'accumulative_yield': -296.909686, 'position': 0.4904}, {'init_date': 20190524, 'income': -849600900.0, 'yield': -11854.201016, 'accumulative_yield': -8815.201686, 'position': 0.862}, {'init_date': 20190525, 'income': 878111500.0, 'yield': 64601.412811, 'accumulative_yield': -11.055921, 'position': 0.3079}, {'init_date': 20190526, 'income': 956756500.0, 'yield': 13469.154895, 'accumulative_yield': 9581.602514, 'position': 0.4439}, {'init_date': 20190527, 'income': -635551900.0, 'yield': -43998.99894, 'accumulative_yield': 3209.414507, 'position': 0.2435}, {'init_date': 20190528, 'income': 184448300.0, 'yield': 2823.021189, 'accumulative_yield': 5058.735145, 'position': 0.2388}, {'init_date': 20190529, 'income': 809543200.0, 'yield': 5483.849553, 'accumulative_yield': 13175.399528, 'position': 0.2243}, {'init_date': 20190530, 'income': 691880600.0, 'yield': 9871.787299, 'accumulative_yield': 20112.351901, 'position': 0.8895}, {'init_date': 20190531, 'income': -1184007300.0, 'yield': -9667.563605, 'accumulative_yield': 8241.225221, 'position': 0.9327}], 'count': 29}
    SQL result is
[(20190428, 0, 0, None, 0), [20190502, Decimal('704603800.00'), Decimal('-0.0082'), Decimal('0.5078'), Decimal('-0.0082')], [20190503, Decimal('641083600.00'), Decimal('0.0028'), Decimal('0.9319'), Decimal('-0.0054')], [20190504, Decimal('606111000.00'), Decimal('0.0032'), Decimal('0.2887'), Decimal('-0.0022')], [20190505, Decimal('42566600.00'), Decimal('-0.0010'), Decimal('0.4512'), Decimal('-0.0032')], [20190508, Decimal('-377479300.00'), Decimal('-0.0012'), Decimal('0.9094'), Decimal('-0.0044')], [20190509, Decimal('-1057658900.00'), Decimal('-0.0005'), Decimal('0.3957'), Decimal('-0.0049')], [20190510, Decimal('-628159400.00'), Decimal('-0.0077'), Decimal('0.1611'), Decimal('-0.0126')], [20190511, Decimal('392182100.00'), Decimal('0.0033'), Decimal('0.7164'), Decimal('-0.0093')], [20190512, Decimal('435996700.00'), Decimal('-0.0009'), Decimal('0.1511'), Decimal('-0.0102')], [20190513, Decimal('-836374800.00'), Decimal('-0.0012'), Decimal('0.1388'), Decimal('-0.0114')], [20190514, Decimal('345415400.00'), Decimal('-0.0083'), Decimal('0.1049'), Decimal('-0.0196')], [20190515, Decimal('59834600.00'), Decimal('-0.0065'), Decimal('0.2097'), Decimal('-0.0260')], [20190516, Decimal('150882200.00'), Decimal('0.0086'), Decimal('0.7358'), Decimal('-0.0176')], [20190517, Decimal('-851994100.00'), Decimal('-0.0053'), Decimal('0.5639'), Decimal('-0.0228')], [20190518, Decimal('416311200.00'), Decimal('-0.0009'), Decimal('0.8572'), Decimal('-0.0237')], [20190519, Decimal('-345684000.00'), Decimal('-0.0069'), Decimal('0.5847'), Decimal('-0.0304')], [20190520, Decimal('-841276400.00'), Decimal('-0.0052'), Decimal('0.0531'), Decimal('-0.0354')], [20190521, Decimal('-175534100.00'), Decimal('-0.0007'), Decimal('0.4348'), Decimal('-0.0361')], [20190522, Decimal('1170180000.00'), Decimal('-0.0051'), Decimal('0.4434'), Decimal('-0.0410')], [20190523, Decimal('119380500.00'), Decimal('0.0050'), Decimal('0.4904'), Decimal('-0.0362')], [20190524, Decimal('-849600900.00'), Decimal('-0.0008'), Decimal('0.8620'), Decimal('-0.0370')], [20190525, Decimal('878111500.00'), Decimal('-0.0034'), Decimal('0.3079'), Decimal('-0.0403')], [20190526, Decimal('956756500.00'), Decimal('-0.0067'), Decimal('0.4439'), Decimal('-0.0467')], [20190527, Decimal('-635551900.00'), Decimal('0.0013'), Decimal('0.2435'), Decimal('-0.0455')], [20190528, Decimal('184448300.00'), Decimal('-0.0061'), Decimal('0.2388'), Decimal('-0.0513')], [20190529, Decimal('809543200.00'), Decimal('-0.0048'), Decimal('0.2243'), Decimal('-0.0559')], [20190530, Decimal('691880600.00'), Decimal('-0.0072'), Decimal('0.8895'), Decimal('-0.0627')], [20190531, Decimal('-1184007300.00'), Decimal('0.0007'), Decimal('0.9327'), Decimal('-0.0620')]]
Current is checking column yield

Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 274, in test_normal
    sql=sql, url=url, data=data, count=len(sql_result_dealed), is_timestamp=False)
  File ".\analysis_cnpsec.py", line 401, in _checking
    self.assertAlmostEqual(sql_data[column_index], round(decimal.Decimal(interface_data), 4), msg=msg)
AssertionError: Decimal('-0.0082') != Decimal('9470.1642') within 7 places : 
SQL is
 SELECT a.init_date, income, yield, position, 0 as accumulative_yield from daily_asset a INNER JOIN daily_index b on a.init_date = b.init_date where fund_account = 88888 and b.init_date &gt;= (SELECT max(init_date) as init_date from daily_index where init_date &lt; '20190501') and b.init_date &lt;= '20190531' ORDER BY init_date;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/get_month_account_yield
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'init_date': 20190428, 'income': 0, 'yield': 0, 'accumulative_yield': 0, 'position': None}, {'init_date': 20190502, 'income': 704603800.0, 'yield': 9470.164238, 'accumulative_yield': 9470.164238, 'position': 0.5078}, {'init_date': 20190503, 'income': 641083600.0, 'yield': 45444.135458, 'accumulative_yield': 18086.590919, 'position': 0.9319}, {'init_date': 20190504, 'income': 606111000.0, 'yield': 5590.245314, 'accumulative_yield': 26232.971504, 'position': 0.2887}, {'init_date': 20190505, 'income': 42566600.0, 'yield': 619.853888, 'accumulative_yield': 26805.084077, 'position': 0.4512}, {'init_date': 20190508, 'income': -377479300.0, 'yield': -3216.77625, 'accumulative_yield': 21731.60737, 'position': 0.9094}, {'init_date': 20190509, 'income': -1057658900.0, 'yield': -8862.381153, 'accumulative_yield': 7516.237696, 'position': 0.3957}, {'init_date': 20190510, 'income': -628159400.0, 'yield': -10171.71588, 'accumulative_yield': -926.482434, 'position': 0.1611}, {'init_date': 20190511, 'income': 392182100.0, 'yield': 15099.368932, 'accumulative_yield': 4344.60594, 'position': 0.7164}, {'init_date': 20190512, 'income': 435996700.0, 'yield': 3481.951217, 'accumulative_yield': 10204.580519, 'position': 0.1511}, {'init_date': 20190513, 'income': -836374800.0, 'yield': -6808.360371, 'accumulative_yield': -773.308899, 'position': 0.1388}, {'init_date': 20190514, 'income': 345415400.0, 'yield': 3247.084194, 'accumulative_yield': 2689.904521, 'position': 0.1049}, {'init_date': 20190515, 'income': 59834600.0, 'yield': 9041.750849, 'accumulative_yield': 3289.81984, 'position': 0.2097}, {'init_date': 20190516, 'income': 150882200.0, 'yield': 2761.674852, 'accumulative_yield': 4802.599119, 'position': 0.7358}, {'init_date': 20190517, 'income': -851994100.0, 'yield': -17916.673852, 'accumulative_yield': -3739.687649, 'position': 0.5639}, {'init_date': 20190518, 'income': 416311200.0, 'yield': 6262.20876, 'accumulative_yield': 434.343198, 'position': 0.8572}, {'init_date': 20190519, 'income': -345684000.0, 'yield': -4737.903806, 'accumulative_yield': -3031.563266, 'position': 0.5847}, {'init_date': 20190520, 'income': -841276400.0, 'yield': -16896.408433, 'accumulative_yield': -11466.391935, 'position': 0.0531}, {'init_date': 20190521, 'income': -175534100.0, 'yield': -2892.761525, 'accumulative_yield': -13226.336774, 'position': 0.4348}, {'init_date': 20190522, 'income': 1170180000.0, 'yield': 9879.54633, 'accumulative_yield': -1493.845751, 'position': 0.4434}, {'init_date': 20190523, 'income': 119380500.0, 'yield': 1024.056916, 'accumulative_yield': -296.909686, 'position': 0.4904}, {'init_date': 20190524, 'income': -849600900.0, 'yield': -11854.201016, 'accumulative_yield': -8815.201686, 'position': 0.862}, {'init_date': 20190525, 'income': 878111500.0, 'yield': 64601.412811, 'accumulative_yield': -11.055921, 'position': 0.3079}, {'init_date': 20190526, 'income': 956756500.0, 'yield': 13469.154895, 'accumulative_yield': 9581.602514, 'position': 0.4439}, {'init_date': 20190527, 'income': -635551900.0, 'yield': -43998.99894, 'accumulative_yield': 3209.414507, 'position': 0.2435}, {'init_date': 20190528, 'income': 184448300.0, 'yield': 2823.021189, 'accumulative_yield': 5058.735145, 'position': 0.2388}, {'init_date': 20190529, 'income': 809543200.0, 'yield': 5483.849553, 'accumulative_yield': 13175.399528, 'position': 0.2243}, {'init_date': 20190530, 'income': 691880600.0, 'yield': 9871.787299, 'accumulative_yield': 20112.351901, 'position': 0.8895}, {'init_date': 20190531, 'income': -1184007300.0, 'yield': -9667.563605, 'accumulative_yield': 8241.225221, 'position': 0.9327}], 'count': 29}
    SQL result is
[(20190428, 0, 0, None, 0), [20190502, Decimal('704603800.00'), Decimal('-0.0082'), Decimal('0.5078'), Decimal('-0.0082')], [20190503, Decimal('641083600.00'), Decimal('0.0028'), Decimal('0.9319'), Decimal('-0.0054')], [20190504, Decimal('606111000.00'), Decimal('0.0032'), Decimal('0.2887'), Decimal('-0.0022')], [20190505, Decimal('42566600.00'), Decimal('-0.0010'), Decimal('0.4512'), Decimal('-0.0032')], [20190508, Decimal('-377479300.00'), Decimal('-0.0012'), Decimal('0.9094'), Decimal('-0.0044')], [20190509, Decimal('-1057658900.00'), Decimal('-0.0005'), Decimal('0.3957'), Decimal('-0.0049')], [20190510, Decimal('-628159400.00'), Decimal('-0.0077'), Decimal('0.1611'), Decimal('-0.0126')], [20190511, Decimal('392182100.00'), Decimal('0.0033'), Decimal('0.7164'), Decimal('-0.0093')], [20190512, Decimal('435996700.00'), Decimal('-0.0009'), Decimal('0.1511'), Decimal('-0.0102')], [20190513, Decimal('-836374800.00'), Decimal('-0.0012'), Decimal('0.1388'), Decimal('-0.0114')], [20190514, Decimal('345415400.00'), Decimal('-0.0083'), Decimal('0.1049'), Decimal('-0.0196')], [20190515, Decimal('59834600.00'), Decimal('-0.0065'), Decimal('0.2097'), Decimal('-0.0260')], [20190516, Decimal('150882200.00'), Decimal('0.0086'), Decimal('0.7358'), Decimal('-0.0176')], [20190517, Decimal('-851994100.00'), Decimal('-0.0053'), Decimal('0.5639'), Decimal('-0.0228')], [20190518, Decimal('416311200.00'), Decimal('-0.0009'), Decimal('0.8572'), Decimal('-0.0237')], [20190519, Decimal('-345684000.00'), Decimal('-0.0069'), Decimal('0.5847'), Decimal('-0.0304')], [20190520, Decimal('-841276400.00'), Decimal('-0.0052'), Decimal('0.0531'), Decimal('-0.0354')], [20190521, Decimal('-175534100.00'), Decimal('-0.0007'), Decimal('0.4348'), Decimal('-0.0361')], [20190522, Decimal('1170180000.00'), Decimal('-0.0051'), Decimal('0.4434'), Decimal('-0.0410')], [20190523, Decimal('119380500.00'), Decimal('0.0050'), Decimal('0.4904'), Decimal('-0.0362')], [20190524, Decimal('-849600900.00'), Decimal('-0.0008'), Decimal('0.8620'), Decimal('-0.0370')], [20190525, Decimal('878111500.00'), Decimal('-0.0034'), Decimal('0.3079'), Decimal('-0.0403')], [20190526, Decimal('956756500.00'), Decimal('-0.0067'), Decimal('0.4439'), Decimal('-0.0467')], [20190527, Decimal('-635551900.00'), Decimal('0.0013'), Decimal('0.2435'), Decimal('-0.0455')], [20190528, Decimal('184448300.00'), Decimal('-0.0061'), Decimal('0.2388'), Decimal('-0.0513')], [20190529, Decimal('809543200.00'), Decimal('-0.0048'), Decimal('0.2243'), Decimal('-0.0559')], [20190530, Decimal('691880600.00'), Decimal('-0.0072'), Decimal('0.8895'), Decimal('-0.0627')], [20190531, Decimal('-1184007300.00'), Decimal('0.0007'), Decimal('0.9327'), Decimal('-0.0620')]]
Current is checking column yield



        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr class='failClass'>
    <td>GetMonthIndexAcYield</td>
    <td>1</td>
    <td>0</td>
    <td>1</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c8',1)">Detail</a></td>
</tr>

<tr id='ft8.1' class='none'>
    <td class='failCase'><div class='testcase'>test_normal</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_ft8.1')" >
        fail</a>

    <div id='div_ft8.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_ft8.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
ft8.1: Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 333, in test_normal
    sql=sql, url=url, data=data, count=len(sql_result_dealed), is_timestamp=False)
  File ".\analysis_cnpsec.py", line 401, in _checking
    self.assertAlmostEqual(sql_data[column_index], round(decimal.Decimal(interface_data), 4), msg=msg)
AssertionError: Decimal('-0.8576') != Decimal('-0.8577') within 7 places : 
SQL is
 SELECT init_date, hs_yield, sh_yield, sz_yield, gem_yield, 0 as ac_hs_yield, 0 as ac_sh_yield, 0 as ac_sz_yield, 0 as ac_gem_yield from daily_index where init_date BETWEEN '20190501' and '20190531' order by init_date;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/get_month_index_ac_yield
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'init_date': 20190502, 'hs_yield': 0.705, 'sh_yield': 0.705, 'sz_yield': 0.705, 'gem_yield': 0.705, 'ac_hs_yield': 0.705, 'ac_sh_yield': 0.705, 'ac_sz_yield': 0.705, 'ac_gem_yield': 0.705}, {'init_date': 20190503, 'hs_yield': 0.705, 'sh_yield': 0.705, 'sz_yield': 0.705, 'gem_yield': 0.705, 'ac_hs_yield': 1.907, 'ac_sh_yield': 1.907, 'ac_sz_yield': 1.907, 'ac_gem_yield': 1.907}, {'init_date': 20190504, 'hs_yield': 0.705, 'sh_yield': 0.705, 'sz_yield': 0.705, 'gem_yield': 0.705, 'ac_hs_yield': 3.9564, 'ac_sh_yield': 3.9564, 'ac_sz_yield': 3.9564, 'ac_gem_yield': 3.9564}, {'init_date': 20190505, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 7.4512, 'ac_sh_yield': 7.4512, 'ac_sz_yield': 7.4512, 'ac_gem_yield': 7.4512}, {'init_date': 20190508, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 13.4101, 'ac_sh_yield': 13.4101, 'ac_sz_yield': 13.4101, 'ac_gem_yield': 13.4101}, {'init_date': 20190509, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 23.5707, 'ac_sh_yield': 23.5707, 'ac_sz_yield': 23.5707, 'ac_gem_yield': 23.5707}, {'init_date': 20190510, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 40.8955, 'ac_sh_yield': 40.8955, 'ac_sz_yield': 40.8955, 'ac_gem_yield': 40.8955}, {'init_date': 20190511, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 70.436, 'ac_sh_yield': 70.436, 'ac_sz_yield': 70.436, 'ac_gem_yield': 70.436}, {'init_date': 20190512, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 120.8055, 'ac_sh_yield': 120.8055, 'ac_sz_yield': 120.8055, 'ac_gem_yield': 120.8055}, {'init_date': 20190513, 'hs_yield': -0.6239, 'sh_yield': -0.8166, 'sz_yield': -0.1038, 'gem_yield': 0.9201, 'ac_hs_yield': 44.811, 'ac_sh_yield': 21.3391, 'ac_sz_yield': 108.1621, 'ac_gem_yield': 232.8787}, {'init_date': 20190514, 'hs_yield': -0.8928, 'sh_yield': 0.8671, 'sz_yield': 0.1946, 'gem_yield': 0.2116, 'ac_hs_yield': 3.9109, 'ac_sh_yield': 40.7093, 'ac_sz_yield': 129.405, 'ac_gem_yield': 282.3674}, {'init_date': 20190515, 'hs_yield': -0.8827, 'sh_yield': -0.986, 'sz_yield': 0.8293, 'gem_yield': 0.3085, 'ac_hs_yield': -0.424, 'ac_sh_yield': -0.4161, 'ac_sz_yield': 237.5499, 'ac_gem_yield': 369.7862}, {'init_date': 20190516, 'hs_yield': -0.0298, 'sh_yield': 0.917, 'sz_yield': -0.6465, 'gem_yield': 0.7484, 'ac_hs_yield': -0.4412, 'ac_sh_yield': 0.1193, 'ac_sz_yield': 83.3274, 'ac_gem_yield': 647.2826}, {'init_date': 20190517, 'hs_yield': -0.9996, 'sh_yield': 0.9516, 'sz_yield': -0.3455, 'gem_yield': 0.8825, 'ac_hs_yield': -0.9998, 'ac_sh_yield': 1.1844, 'ac_sz_yield': 54.1923, 'ac_gem_yield': 1219.392}, {'init_date': 20190518, 'hs_yield': -0.5253, 'sh_yield': -0.7711, 'sz_yield': -0.7087, 'gem_yield': 0.6023, 'ac_hs_yield': -0.9999, 'ac_sh_yield': -0.5, 'ac_sz_yield': 15.0775, 'ac_gem_yield': 1954.4341}, {'init_date': 20190519, 'hs_yield': -0.7889, 'sh_yield': -0.7153, 'sz_yield': -0.1698, 'gem_yield': 0.4601, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.8577, 'ac_sz_yield': 12.3475, 'ac_gem_yield': 2854.1293}, {'init_date': 20190520, 'hs_yield': 0.3527, 'sh_yield': -0.6421, 'sz_yield': -0.0596, 'gem_yield': 0.1656, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9491, 'ac_sz_yield': 11.552, 'ac_gem_yield': 3326.9387}, {'init_date': 20190521, 'hs_yield': -0.6507, 'sh_yield': 0.9715, 'sz_yield': -0.9681, 'gem_yield': -0.6507, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.8997, 'ac_sz_yield': -0.5996, 'ac_gem_yield': 1161.449}, {'init_date': 20190522, 'hs_yield': 0.8634, 'sh_yield': -0.506, 'sz_yield': 0.7588, 'gem_yield': 0.5757, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9505, 'ac_sz_yield': -0.2958, 'ac_gem_yield': 1830.6709}, {'init_date': 20190523, 'hs_yield': 0.3794, 'sh_yield': -0.1671, 'sz_yield': 0.9939, 'gem_yield': -0.2633, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9588, 'ac_sz_yield': 0.4041, 'ac_gem_yield': 1348.392}, {'init_date': 20190524, 'hs_yield': 0.333, 'sh_yield': -0.5891, 'sz_yield': 0.8229, 'gem_yield': 0.9204, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9831, 'ac_sz_yield': 1.5595, 'ac_gem_yield': 2590.3724}, {'init_date': 20190525, 'hs_yield': 0.1158, 'sh_yield': 0.49, 'sz_yield': -0.0277, 'gem_yield': 0.9501, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9748, 'ac_sz_yield': 1.4886, 'ac_gem_yield': 5052.4353}, {'init_date': 20190526, 'hs_yield': 0.9194, 'sh_yield': 0.0096, 'sz_yield': 0.6319, 'gem_yield': 0.782, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9746, 'ac_sz_yield': 3.0611, 'ac_gem_yield': 9004.2217}, {'init_date': 20190527, 'hs_yield': -0.3499, 'sh_yield': 0.5826, 'sz_yield': 0.0312, 'gem_yield': -0.3674, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9598, 'ac_sz_yield': 3.1878, 'ac_gem_yield': 5695.7032}, {'init_date': 20190528, 'hs_yield': 0.7359, 'sh_yield': 0.8311, 'sz_yield': -0.4851, 'gem_yield': -0.6172, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9264, 'ac_sz_yield': 1.1563, 'ac_gem_yield': 2179.698}, {'init_date': 20190529, 'hs_yield': 0.7463, 'sh_yield': 0.1031, 'sz_yield': 0.4039, 'gem_yield': -0.545, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9188, 'ac_sz_yield': 2.0272, 'ac_gem_yield': 991.2176}, {'init_date': 20190530, 'hs_yield': -0.5226, 'sh_yield': 0.6384, 'sz_yield': -0.2246, 'gem_yield': -0.9072, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.867, 'ac_sz_yield': 1.3473, 'ac_gem_yield': 91.0778}, {'init_date': 20190531, 'hs_yield': 0.6348, 'sh_yield': 0.5334, 'sz_yield': 0.9703, 'gem_yield': -0.3294, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.7961, 'ac_sz_yield': 3.6249, 'ac_gem_yield': 60.7474}], 'count': 28}
    SQL result is
[[20190502, Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050')], [20190503, Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('1.9070'), Decimal('1.9070'), Decimal('1.9070'), Decimal('1.9070')], [20190504, Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('3.9564'), Decimal('3.9564'), Decimal('3.9564'), Decimal('3.9564')], [20190505, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('7.4512'), Decimal('7.4512'), Decimal('7.4512'), Decimal('7.4512')], [20190508, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('13.4101'), Decimal('13.4101'), Decimal('13.4101'), Decimal('13.4101')], [20190509, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('23.5707'), Decimal('23.5707'), Decimal('23.5707'), Decimal('23.5707')], [20190510, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('40.8955'), Decimal('40.8955'), Decimal('40.8955'), Decimal('40.8955')], [20190511, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('70.4360'), Decimal('70.4360'), Decimal('70.4360'), Decimal('70.4360')], [20190512, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('120.8055'), Decimal('120.8055'), Decimal('120.8055'), Decimal('120.8055')], [20190513, Decimal('-0.6239'), Decimal('-0.8166'), Decimal('-0.1038'), Decimal('0.9201'), Decimal('44.8110'), Decimal('21.3391'), Decimal('108.1621'), Decimal('232.8787')], [20190514, Decimal('-0.8928'), Decimal('0.8671'), Decimal('0.1946'), Decimal('0.2116'), Decimal('3.9109'), Decimal('40.7093'), Decimal('129.4050'), Decimal('282.3674')], [20190515, Decimal('-0.8827'), Decimal('-0.9860'), Decimal('0.8293'), Decimal('0.3085'), Decimal('-0.4240'), Decimal('-0.4161'), Decimal('237.5499'), Decimal('369.7862')], [20190516, Decimal('-0.0298'), Decimal('0.9170'), Decimal('-0.6465'), Decimal('0.7484'), Decimal('-0.4412'), Decimal('0.1193'), Decimal('83.3274'), Decimal('647.2826')], [20190517, Decimal('-0.9996'), Decimal('0.9516'), Decimal('-0.3455'), Decimal('0.8825'), Decimal('-0.9998'), Decimal('1.1844'), Decimal('54.1923'), Decimal('1219.3920')], [20190518, Decimal('-0.5253'), Decimal('-0.7711'), Decimal('-0.7087'), Decimal('0.6023'), Decimal('-0.9999'), Decimal('-0.5000'), Decimal('15.0775'), Decimal('1954.4341')], [20190519, Decimal('-0.7889'), Decimal('-0.7153'), Decimal('-0.1698'), Decimal('0.4601'), Decimal('-1.0000'), Decimal('-0.8576'), Decimal('12.3475'), Decimal('2854.1293')], [20190520, Decimal('0.3527'), Decimal('-0.6421'), Decimal('-0.0596'), Decimal('0.1656'), Decimal('-1.0000'), Decimal('-0.9490'), Decimal('11.5520'), Decimal('3326.9387')], [20190521, Decimal('-0.6507'), Decimal('0.9715'), Decimal('-0.9681'), Decimal('-0.6507'), Decimal('-1.0000'), Decimal('-0.8995'), Decimal('-0.5996'), Decimal('1161.4490')], [20190522, Decimal('0.8634'), Decimal('-0.5060'), Decimal('0.7588'), Decimal('0.5757'), Decimal('-1.0000'), Decimal('-0.9504'), Decimal('-0.2958'), Decimal('1830.6709')], [20190523, Decimal('0.3794'), Decimal('-0.1671'), Decimal('0.9939'), Decimal('-0.2633'), Decimal('-1.0000'), Decimal('-0.9587'), Decimal('0.4041'), Decimal('1348.3920')], [20190524, Decimal('0.3330'), Decimal('-0.5891'), Decimal('0.8229'), Decimal('0.9204'), Decimal('-1.0000'), Decimal('-0.9830'), Decimal('1.5595'), Decimal('2590.3724')], [20190525, Decimal('0.1158'), Decimal('0.4900'), Decimal('-0.0277'), Decimal('0.9501'), Decimal('-1.0000'), Decimal('-0.9747'), Decimal('1.4886'), Decimal('5052.4353')], [20190526, Decimal('0.9194'), Decimal('0.0096'), Decimal('0.6319'), Decimal('0.7820'), Decimal('-1.0000'), Decimal('-0.9745'), Decimal('3.0611'), Decimal('9004.2217')], [20190527, Decimal('-0.3499'), Decimal('0.5826'), Decimal('0.0312'), Decimal('-0.3674'), Decimal('-1.0000'), Decimal('-0.9596'), Decimal('3.1878'), Decimal('5695.7032')], [20190528, Decimal('0.7359'), Decimal('0.8311'), Decimal('-0.4851'), Decimal('-0.6172'), Decimal('-1.0000'), Decimal('-0.9260'), Decimal('1.1563'), Decimal('2179.6980')], [20190529, Decimal('0.7463'), Decimal('0.1031'), Decimal('0.4039'), Decimal('-0.5450'), Decimal('-1.0000'), Decimal('-0.9184'), Decimal('2.0272'), Decimal('991.2176')], [20190530, Decimal('-0.5226'), Decimal('0.6384'), Decimal('-0.2246'), Decimal('-0.9072'), Decimal('-1.0000'), Decimal('-0.8663'), Decimal('1.3473'), Decimal('91.0778')], [20190531, Decimal('0.6348'), Decimal('0.5334'), Decimal('0.9703'), Decimal('-0.3294'), Decimal('-1.0000'), Decimal('-0.7950'), Decimal('3.6249'), Decimal('60.7474')]]
Current is checking column ac_sh_yield

Traceback (most recent call last):
  File ".\analysis_cnpsec.py", line 333, in test_normal
    sql=sql, url=url, data=data, count=len(sql_result_dealed), is_timestamp=False)
  File ".\analysis_cnpsec.py", line 401, in _checking
    self.assertAlmostEqual(sql_data[column_index], round(decimal.Decimal(interface_data), 4), msg=msg)
AssertionError: Decimal('-0.8576') != Decimal('-0.8577') within 7 places : 
SQL is
 SELECT init_date, hs_yield, sh_yield, sz_yield, gem_yield, 0 as ac_hs_yield, 0 as ac_sh_yield, 0 as ac_sz_yield, 0 as ac_gem_yield from daily_index where init_date BETWEEN '20190501' and '20190531' order by init_date;
 Interface is
 http://10.20.18.174:8096/cnpsec/month_bill/get_month_index_ac_yield
 params is
 {'interval': '201905', 'fund_account': '88888'}
Interface response is
 {'error_no': '0', 'error_info': '执行成功', 'data_list': [{'init_date': 20190502, 'hs_yield': 0.705, 'sh_yield': 0.705, 'sz_yield': 0.705, 'gem_yield': 0.705, 'ac_hs_yield': 0.705, 'ac_sh_yield': 0.705, 'ac_sz_yield': 0.705, 'ac_gem_yield': 0.705}, {'init_date': 20190503, 'hs_yield': 0.705, 'sh_yield': 0.705, 'sz_yield': 0.705, 'gem_yield': 0.705, 'ac_hs_yield': 1.907, 'ac_sh_yield': 1.907, 'ac_sz_yield': 1.907, 'ac_gem_yield': 1.907}, {'init_date': 20190504, 'hs_yield': 0.705, 'sh_yield': 0.705, 'sz_yield': 0.705, 'gem_yield': 0.705, 'ac_hs_yield': 3.9564, 'ac_sh_yield': 3.9564, 'ac_sz_yield': 3.9564, 'ac_gem_yield': 3.9564}, {'init_date': 20190505, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 7.4512, 'ac_sh_yield': 7.4512, 'ac_sz_yield': 7.4512, 'ac_gem_yield': 7.4512}, {'init_date': 20190508, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 13.4101, 'ac_sh_yield': 13.4101, 'ac_sz_yield': 13.4101, 'ac_gem_yield': 13.4101}, {'init_date': 20190509, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 23.5707, 'ac_sh_yield': 23.5707, 'ac_sz_yield': 23.5707, 'ac_gem_yield': 23.5707}, {'init_date': 20190510, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 40.8955, 'ac_sh_yield': 40.8955, 'ac_sz_yield': 40.8955, 'ac_gem_yield': 40.8955}, {'init_date': 20190511, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 70.436, 'ac_sh_yield': 70.436, 'ac_sz_yield': 70.436, 'ac_gem_yield': 70.436}, {'init_date': 20190512, 'hs_yield': 0.7051, 'sh_yield': 0.7051, 'sz_yield': 0.7051, 'gem_yield': 0.7051, 'ac_hs_yield': 120.8055, 'ac_sh_yield': 120.8055, 'ac_sz_yield': 120.8055, 'ac_gem_yield': 120.8055}, {'init_date': 20190513, 'hs_yield': -0.6239, 'sh_yield': -0.8166, 'sz_yield': -0.1038, 'gem_yield': 0.9201, 'ac_hs_yield': 44.811, 'ac_sh_yield': 21.3391, 'ac_sz_yield': 108.1621, 'ac_gem_yield': 232.8787}, {'init_date': 20190514, 'hs_yield': -0.8928, 'sh_yield': 0.8671, 'sz_yield': 0.1946, 'gem_yield': 0.2116, 'ac_hs_yield': 3.9109, 'ac_sh_yield': 40.7093, 'ac_sz_yield': 129.405, 'ac_gem_yield': 282.3674}, {'init_date': 20190515, 'hs_yield': -0.8827, 'sh_yield': -0.986, 'sz_yield': 0.8293, 'gem_yield': 0.3085, 'ac_hs_yield': -0.424, 'ac_sh_yield': -0.4161, 'ac_sz_yield': 237.5499, 'ac_gem_yield': 369.7862}, {'init_date': 20190516, 'hs_yield': -0.0298, 'sh_yield': 0.917, 'sz_yield': -0.6465, 'gem_yield': 0.7484, 'ac_hs_yield': -0.4412, 'ac_sh_yield': 0.1193, 'ac_sz_yield': 83.3274, 'ac_gem_yield': 647.2826}, {'init_date': 20190517, 'hs_yield': -0.9996, 'sh_yield': 0.9516, 'sz_yield': -0.3455, 'gem_yield': 0.8825, 'ac_hs_yield': -0.9998, 'ac_sh_yield': 1.1844, 'ac_sz_yield': 54.1923, 'ac_gem_yield': 1219.392}, {'init_date': 20190518, 'hs_yield': -0.5253, 'sh_yield': -0.7711, 'sz_yield': -0.7087, 'gem_yield': 0.6023, 'ac_hs_yield': -0.9999, 'ac_sh_yield': -0.5, 'ac_sz_yield': 15.0775, 'ac_gem_yield': 1954.4341}, {'init_date': 20190519, 'hs_yield': -0.7889, 'sh_yield': -0.7153, 'sz_yield': -0.1698, 'gem_yield': 0.4601, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.8577, 'ac_sz_yield': 12.3475, 'ac_gem_yield': 2854.1293}, {'init_date': 20190520, 'hs_yield': 0.3527, 'sh_yield': -0.6421, 'sz_yield': -0.0596, 'gem_yield': 0.1656, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9491, 'ac_sz_yield': 11.552, 'ac_gem_yield': 3326.9387}, {'init_date': 20190521, 'hs_yield': -0.6507, 'sh_yield': 0.9715, 'sz_yield': -0.9681, 'gem_yield': -0.6507, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.8997, 'ac_sz_yield': -0.5996, 'ac_gem_yield': 1161.449}, {'init_date': 20190522, 'hs_yield': 0.8634, 'sh_yield': -0.506, 'sz_yield': 0.7588, 'gem_yield': 0.5757, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9505, 'ac_sz_yield': -0.2958, 'ac_gem_yield': 1830.6709}, {'init_date': 20190523, 'hs_yield': 0.3794, 'sh_yield': -0.1671, 'sz_yield': 0.9939, 'gem_yield': -0.2633, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9588, 'ac_sz_yield': 0.4041, 'ac_gem_yield': 1348.392}, {'init_date': 20190524, 'hs_yield': 0.333, 'sh_yield': -0.5891, 'sz_yield': 0.8229, 'gem_yield': 0.9204, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9831, 'ac_sz_yield': 1.5595, 'ac_gem_yield': 2590.3724}, {'init_date': 20190525, 'hs_yield': 0.1158, 'sh_yield': 0.49, 'sz_yield': -0.0277, 'gem_yield': 0.9501, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9748, 'ac_sz_yield': 1.4886, 'ac_gem_yield': 5052.4353}, {'init_date': 20190526, 'hs_yield': 0.9194, 'sh_yield': 0.0096, 'sz_yield': 0.6319, 'gem_yield': 0.782, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9746, 'ac_sz_yield': 3.0611, 'ac_gem_yield': 9004.2217}, {'init_date': 20190527, 'hs_yield': -0.3499, 'sh_yield': 0.5826, 'sz_yield': 0.0312, 'gem_yield': -0.3674, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9598, 'ac_sz_yield': 3.1878, 'ac_gem_yield': 5695.7032}, {'init_date': 20190528, 'hs_yield': 0.7359, 'sh_yield': 0.8311, 'sz_yield': -0.4851, 'gem_yield': -0.6172, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9264, 'ac_sz_yield': 1.1563, 'ac_gem_yield': 2179.698}, {'init_date': 20190529, 'hs_yield': 0.7463, 'sh_yield': 0.1031, 'sz_yield': 0.4039, 'gem_yield': -0.545, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.9188, 'ac_sz_yield': 2.0272, 'ac_gem_yield': 991.2176}, {'init_date': 20190530, 'hs_yield': -0.5226, 'sh_yield': 0.6384, 'sz_yield': -0.2246, 'gem_yield': -0.9072, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.867, 'ac_sz_yield': 1.3473, 'ac_gem_yield': 91.0778}, {'init_date': 20190531, 'hs_yield': 0.6348, 'sh_yield': 0.5334, 'sz_yield': 0.9703, 'gem_yield': -0.3294, 'ac_hs_yield': -1.0, 'ac_sh_yield': -0.7961, 'ac_sz_yield': 3.6249, 'ac_gem_yield': 60.7474}], 'count': 28}
    SQL result is
[[20190502, Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050')], [20190503, Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('1.9070'), Decimal('1.9070'), Decimal('1.9070'), Decimal('1.9070')], [20190504, Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('0.7050'), Decimal('3.9564'), Decimal('3.9564'), Decimal('3.9564'), Decimal('3.9564')], [20190505, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('7.4512'), Decimal('7.4512'), Decimal('7.4512'), Decimal('7.4512')], [20190508, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('13.4101'), Decimal('13.4101'), Decimal('13.4101'), Decimal('13.4101')], [20190509, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('23.5707'), Decimal('23.5707'), Decimal('23.5707'), Decimal('23.5707')], [20190510, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('40.8955'), Decimal('40.8955'), Decimal('40.8955'), Decimal('40.8955')], [20190511, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('70.4360'), Decimal('70.4360'), Decimal('70.4360'), Decimal('70.4360')], [20190512, Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('0.7051'), Decimal('120.8055'), Decimal('120.8055'), Decimal('120.8055'), Decimal('120.8055')], [20190513, Decimal('-0.6239'), Decimal('-0.8166'), Decimal('-0.1038'), Decimal('0.9201'), Decimal('44.8110'), Decimal('21.3391'), Decimal('108.1621'), Decimal('232.8787')], [20190514, Decimal('-0.8928'), Decimal('0.8671'), Decimal('0.1946'), Decimal('0.2116'), Decimal('3.9109'), Decimal('40.7093'), Decimal('129.4050'), Decimal('282.3674')], [20190515, Decimal('-0.8827'), Decimal('-0.9860'), Decimal('0.8293'), Decimal('0.3085'), Decimal('-0.4240'), Decimal('-0.4161'), Decimal('237.5499'), Decimal('369.7862')], [20190516, Decimal('-0.0298'), Decimal('0.9170'), Decimal('-0.6465'), Decimal('0.7484'), Decimal('-0.4412'), Decimal('0.1193'), Decimal('83.3274'), Decimal('647.2826')], [20190517, Decimal('-0.9996'), Decimal('0.9516'), Decimal('-0.3455'), Decimal('0.8825'), Decimal('-0.9998'), Decimal('1.1844'), Decimal('54.1923'), Decimal('1219.3920')], [20190518, Decimal('-0.5253'), Decimal('-0.7711'), Decimal('-0.7087'), Decimal('0.6023'), Decimal('-0.9999'), Decimal('-0.5000'), Decimal('15.0775'), Decimal('1954.4341')], [20190519, Decimal('-0.7889'), Decimal('-0.7153'), Decimal('-0.1698'), Decimal('0.4601'), Decimal('-1.0000'), Decimal('-0.8576'), Decimal('12.3475'), Decimal('2854.1293')], [20190520, Decimal('0.3527'), Decimal('-0.6421'), Decimal('-0.0596'), Decimal('0.1656'), Decimal('-1.0000'), Decimal('-0.9490'), Decimal('11.5520'), Decimal('3326.9387')], [20190521, Decimal('-0.6507'), Decimal('0.9715'), Decimal('-0.9681'), Decimal('-0.6507'), Decimal('-1.0000'), Decimal('-0.8995'), Decimal('-0.5996'), Decimal('1161.4490')], [20190522, Decimal('0.8634'), Decimal('-0.5060'), Decimal('0.7588'), Decimal('0.5757'), Decimal('-1.0000'), Decimal('-0.9504'), Decimal('-0.2958'), Decimal('1830.6709')], [20190523, Decimal('0.3794'), Decimal('-0.1671'), Decimal('0.9939'), Decimal('-0.2633'), Decimal('-1.0000'), Decimal('-0.9587'), Decimal('0.4041'), Decimal('1348.3920')], [20190524, Decimal('0.3330'), Decimal('-0.5891'), Decimal('0.8229'), Decimal('0.9204'), Decimal('-1.0000'), Decimal('-0.9830'), Decimal('1.5595'), Decimal('2590.3724')], [20190525, Decimal('0.1158'), Decimal('0.4900'), Decimal('-0.0277'), Decimal('0.9501'), Decimal('-1.0000'), Decimal('-0.9747'), Decimal('1.4886'), Decimal('5052.4353')], [20190526, Decimal('0.9194'), Decimal('0.0096'), Decimal('0.6319'), Decimal('0.7820'), Decimal('-1.0000'), Decimal('-0.9745'), Decimal('3.0611'), Decimal('9004.2217')], [20190527, Decimal('-0.3499'), Decimal('0.5826'), Decimal('0.0312'), Decimal('-0.3674'), Decimal('-1.0000'), Decimal('-0.9596'), Decimal('3.1878'), Decimal('5695.7032')], [20190528, Decimal('0.7359'), Decimal('0.8311'), Decimal('-0.4851'), Decimal('-0.6172'), Decimal('-1.0000'), Decimal('-0.9260'), Decimal('1.1563'), Decimal('2179.6980')], [20190529, Decimal('0.7463'), Decimal('0.1031'), Decimal('0.4039'), Decimal('-0.5450'), Decimal('-1.0000'), Decimal('-0.9184'), Decimal('2.0272'), Decimal('991.2176')], [20190530, Decimal('-0.5226'), Decimal('0.6384'), Decimal('-0.2246'), Decimal('-0.9072'), Decimal('-1.0000'), Decimal('-0.8663'), Decimal('1.3473'), Decimal('91.0778')], [20190531, Decimal('0.6348'), Decimal('0.5334'), Decimal('0.9703'), Decimal('-0.3294'), Decimal('-1.0000'), Decimal('-0.7950'), Decimal('3.6249'), Decimal('60.7474')]]
Current is checking column ac_sh_yield



        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr id='total_row'>
    <td>Total</td>
    <td>8</td>
    <td>4</td>
    <td>4</td>
    <td>0</td>
    <td>&nbsp;</td>
</tr>
</table>

<div id='ending'>&nbsp;</div>

</body>
</html>
